(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,a,t){e.exports=t.p+"static/media/rios_tdf.940d8bf9.geojson"},109:function(e,a,t){e.exports=t.p+"static/media/cuenca_rio_grande.d4c1397b.geojson"},110:function(e,a,t){e.exports=t.p+"static/media/cuenca_rio_chico.021f190a.geojson"},125:function(e,a,t){e.exports=t(150)},147:function(e,a,t){},148:function(e,a,t){},150:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),l=t(61),s=t.n(l),r=(t(130),t(62)),i=t(63),o=t(68),u=t(64),d=t(69),m=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("nav",{className:"navbar navbar-dark",style:{backgroundColor:"#217dc5"}},c.a.createElement("a",{className:"navbar-brand",href:"#"},"SIAC GIS"))}}]),a}(n.Component),h=t(98),p=t.n(h),y=t(106),b=t(107),k=t.n(b),g=(t(104),t(114)),f=t(90),C=t(70),v=t(115),E=t(113),w=t(155),x=t(154),_=t(92),S=t(91),M=t(108),O=t.n(M),L=t(109),N=t.n(L),R=t(110),D=t.n(R);var V=function(e){return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12"},e.children,c.a.createElement("div",{id:"map",style:{width:"100%",height:"600px"}}))))};var j=function(e){return c.a.createElement("section",{className:"mt-4"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},e.children)))};var T=function(e){return c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},e.children))))};var I=function(e){return c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h2",null,e.caudalesData.nombre),c.a.createElement("p",null,e.caudalesData.descripcion))))},A=t(77),z=t.n(A);var B=function(e){return c.a.createElement(z.a,{data:[{x:e.x,y:e.y,type:"scatter",mode:"lines+markers",marker:{color:"red"}}],layout:{title:e.caudalesData.caudal_desc,xaxis:{title:e.xaxisTitle,showgrid:!1,zeroline:!1},yaxis:{title:e.yaxisTitle,showline:!1},autosize:!0},useResizeHandler:!0,style:{width:"100%",height:"100%"}})};var F=function(e){return c.a.createElement(z.a,{data:[{type:"table",header:{values:[["<b>Mes</b>"],["<b>Q med (m3/s)</b>"],["<b>Q min (m3/s)</b>"],["<b>Q max (m3/s)</b>"]],align:"center",line:{width:1,color:"black"},fill:{color:"grey"},font:{family:"Arial",size:12,color:"white"}},cells:{values:[e.x,e.caudalesData.caudales_promedio[0].data,e.caudalesData.caudales_promedio[1].data,e.caudalesData.caudales_promedio[2].data],align:"center",line:{color:"black",width:1},font:{family:"Arial",size:11,color:["black"]}}}],layout:{title:e.caudalesData.caudal_desc},style:{width:"100%",height:"100%"}})},G=t(72),P=t(73);t(147);var Q=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ol-unselectable ol-control layer__button"},c.a.createElement("button",{type:"button",className:"",onClick:e.handleOpenModal},c.a.createElement(P.a,{icon:G.a}))))},J=(t(148),t(153));var q=function(e){return e.modalIsOpen?s.a.createPortal(c.a.createElement("div",{className:"Modal"},c.a.createElement("div",{className:"Modal__container"},c.a.createElement("button",{onClick:e.handleCloseModal,className:"Modal__close-button"},"X"),c.a.createElement("p",null,c.a.createElement(P.a,{icon:G.a})," Selecci\xf3n de Capas"),c.a.createElement(J.a.Group,null,c.a.createElement(J.a.Check,{type:"checkbox",id:"rios",defaultChecked:e.checked,onChange:e.handleCheck,label:"R\xedos"}),c.a.createElement(J.a.Check,{type:"checkbox",id:"cuenca_rg",defaultChecked:e.cuencaRgChecked,onChange:e.handleCheck,label:"Cuenca del Rio Grande"}),c.a.createElement(J.a.Check,{type:"checkbox",id:"cuenca_rc",defaultChecked:e.cuencaRcChecked,onChange:e.handleCheck,label:"Cuenca del R\xedo Chico"})),c.a.createElement("p",null,c.a.createElement(P.a,{icon:G.b})," Estilo de Mapas"),c.a.createElement(J.a.Group,null,c.a.createElement(J.a.Check,{type:"radio",name:"radios",defaultChecked:"OSM"===e.mapaCheck,value:"OSM",id:"radios1",label:"OpenStreetMap",onChange:e.handleCheckMap}),c.a.createElement(J.a.Check,{type:"radio",name:"radios",defaultChecked:"OSMLanscape"===e.mapaCheck,value:"OSMLanscape",id:"radios2",label:"OpenStreetMap Style (Curvas de Nivel)",onChange:e.handleCheckMap}),c.a.createElement(J.a.Check,{type:"radio",name:"radios",defaultChecked:"Stamen"===e.mapaCheck,value:"Stamen",id:"radios3",label:"Stamen Design",onChange:e.handleCheckMap}),c.a.createElement(J.a.Check,{type:"radio",name:"radios",defaultChecked:"Bing"===e.mapaCheck,value:"Bing",id:"radios4",label:"Bing Aerial (A\xe9reo/satelital)",onChange:e.handleCheckMap})))),document.getElementById("layer-modal")):null},U=k.a.animateScroll,W=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).handleCheckMap=function(e){t.mapaStyleControl(e)},t.handleCheckCapa=function(e){t.capaControl(e)},t.handleCloseModal=function(e){t.setState({modalIsOpen:!1})},t.handleOpenModal=function(e){t.setState({modalIsOpen:!0})},t.state={featureName:"",featureTable:[],center:[-7573454.810866,-7162149.550321],zoom:8,x:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],y:[],xaxisTitle:"Mes",yaxisTitle:"",checked:!1,cuencaRgChecked:!1,cuencaRcChecked:!1,mapaCheck:"OSM",modalIsOpen:!1,caudalesData:{},showSection:!1},t.osmLayer=new w.a({source:new C.b({})}),t.osmLanscape=new w.a({visible:!1,source:new C.b({attributions:['All maps \xa9 <a href="http://www.opencyclemap.org/?layers=00B00">OpenCycleMap</a>',C.a],url:"https://tile.thunderforest.com/landscape/{z}/{x}/{y}.png?apikey=5944047da3314986b605f064897c668c"})}),t.stamenLayer=new w.a({visible:!1,source:new E.a({layer:"watercolor"})}),t.bingMaps=new w.a({visible:!1,source:new v.a({key:"AtBMqCJREGAL9f2_1EKoTkUp_OPgTAPMxQI-m-kGrPV1y-8-6c4-5dq-QVygo9ff",imagerySet:"Aerial"})}),t.vectorSource=new _.a({url:O.a,format:new S.a}),t.vector=new x.a({visible:!1,source:t.vectorSource}),t.cuencaRgSource=new _.a({url:N.a,format:new S.a}),t.cuencaRgVector=new x.a({visible:!1,source:t.cuencaRgSource}),t.cuencaRcSource=new _.a({url:D.a,format:new S.a}),t.cuencaRcVector=new x.a({visible:!1,source:t.cuencaRcSource}),t.olmap=new g.a({target:null,layers:[t.osmLayer,t.osmLanscape,t.stamenLayer,t.bingMaps,t.vector,t.cuencaRgVector,t.cuencaRcVector],view:new f.a({center:t.state.center,zoom:t.state.zoom})}),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"displayFeatureInfo",value:function(e){var a,t=this,n=this.olmap.forEachFeatureAtPixel(e,function(e){return console.log(e),e});n?((a=n.get("URL"),fetch(a).then(function(e){return e.json()}).then(function(e){return e})).then(function(e){t.setState({featureName:n.get("Name"),featureTable:n.get("table"),center:[0,0],caudalesData:e,showSection:!0})}),U.scrollMore(600,{delay:500})):this.setState({featureName:"",showSection:!1})}},{key:"capaControl",value:function(){var e=Object(y.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.target.id,e.next="rios"===e.t0?3:"cuenca_rg"===e.t0?8:"cuenca_rc"===e.t0?13:18;break;case 3:return e.next=5,this.setState({checked:!this.state.checked});case 5:return e.next=7,this.olmap.getLayers().array_[4].setVisible(this.state.checked);case 7:return e.abrupt("break",18);case 8:return e.next=10,this.setState({cuencaRgChecked:!this.state.cuencaRgChecked});case 10:return e.next=12,this.olmap.getLayers().array_[5].setVisible(this.state.cuencaRgChecked);case 12:return e.abrupt("break",18);case 13:return e.next=15,this.setState({cuencaRcChecked:!this.state.cuencaRcChecked});case 15:return e.next=17,this.olmap.getLayers().array_[6].setVisible(this.state.cuencaRcChecked);case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"mapaStyleControl",value:function(e){switch(e.target.value){case"OSM":this.setState({mapaCheck:e.target.value}),this.olmap.getLayers().array_[1].setVisible(!1),this.olmap.getLayers().array_[2].setVisible(!1),this.olmap.getLayers().array_[3].setVisible(!1),this.olmap.getLayers().array_[0].setVisible(!0);break;case"OSMLanscape":this.setState({mapaCheck:e.target.value}),this.olmap.getLayers().array_[0].setVisible(!1),this.olmap.getLayers().array_[2].setVisible(!1),this.olmap.getLayers().array_[3].setVisible(!1),this.olmap.getLayers().array_[1].setVisible(!0);break;case"Stamen":this.setState({mapaCheck:e.target.value}),this.olmap.getLayers().array_[0].setVisible(!1),this.olmap.getLayers().array_[1].setVisible(!1),this.olmap.getLayers().array_[3].setVisible(!1),this.olmap.getLayers().array_[2].setVisible(!0);break;case"Bing":console.log(this.olmap.getLayers().array_),this.setState({mapaCheck:e.target.value}),this.olmap.getLayers().array_[0].setVisible(!1),this.olmap.getLayers().array_[1].setVisible(!1),this.olmap.getLayers().array_[2].setVisible(!1),this.olmap.getLayers().array_[3].setVisible(!0)}}},{key:"componentDidMount",value:function(){var e=this;this.olmap.setTarget("map"),this.olmap.on("moveend",function(){console.log("move")}),this.olmap.on("click",function(a){e.displayFeatureInfo(a.pixel)})}},{key:"showSections",value:function(){if(this.state.showSection)return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null,c.a.createElement(I,{caudalesData:this.state.caudalesData})),c.a.createElement(j,null,c.a.createElement(T,null,c.a.createElement(F,{caudalesData:this.state.caudalesData,x:this.state.x})),c.a.createElement(T,null,c.a.createElement(B,{caudalesData:this.state.caudalesData,x:this.state.x,y:this.state.caudalesData.caudales_promedio[0].data,xaxisTitle:this.state.xaxisTitle,yaxisTitle:this.state.caudalesData.caudales_promedio[0].title}))),c.a.createElement(j,null,c.a.createElement(T,null,c.a.createElement(B,{caudalesData:this.state.caudalesData,x:this.state.x,y:this.state.caudalesData.caudales_promedio[1].data,xaxisTitle:this.state.xaxisTitle,yaxisTitle:this.state.caudalesData.caudales_promedio[1].title})),c.a.createElement(T,null,c.a.createElement(B,{caudalesData:this.state.caudalesData,x:this.state.x,y:this.state.caudalesData.caudales_promedio[2].data,xaxisTitle:this.state.xaxisTitle,yaxisTitle:this.state.caudalesData.caudales_promedio[2].title}))))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,null,c.a.createElement(Q,{handleOpenModal:this.handleOpenModal}),c.a.createElement(q,{checked:this.state.checked,cuencaRgChecked:this.state.cuencaRgChecked,cuencaRcChecked:this.state.cuencaRcChecked,handleCheck:this.handleCheckCapa,handleCheckMap:this.handleCheckMap,mapaCheck:this.state.mapaCheck,modalIsOpen:this.state.modalIsOpen,handleCloseModal:this.handleCloseModal})),this.showSections())}}]),a}(n.Component);var H=function(){return c.a.createElement("footer",{style:{backgroundColor:"#217dc5"},className:"pb-4 pt-4"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("p",{style:{color:"white"}},"Sistema de informaci\xf3n ambiental. Cuencas de estepa de Tierra del Fuego.")))))},K=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(m,null),c.a.createElement(W,null),c.a.createElement(H,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,1,2]]]);
//# sourceMappingURL=main.8a6e0e38.chunk.js.map